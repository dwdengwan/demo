webpackJsonp([45],{UiAp:function(a,t,e){t=a.exports=e("FZ+f")(void 0),t.push([a.i,".new-data #calendar[data-v-445f0daf]{width:100%;height:100%;margin:0 auto;-webkit-transition:all .5s;transition:all .5s;overflow:hidden;background:#fafafa}.new-data #calendar .change[data-v-445f0daf]{height:250px!important}.new-data #calendar .year-month[data-v-445f0daf]{height:3rem}.new-data #calendar .year-month .year-month_left[data-v-445f0daf],.new-data #calendar .year-month[data-v-445f0daf]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.new-data #calendar .year-month .year-month_left[data-v-445f0daf]{height:100%}.new-data #calendar .year-month .year-month_left .top-time[data-v-445f0daf]{color:#333;font-size:16px;font-weight:500}.new-data #calendar .year-month .year-month_left .top-tite[data-v-445f0daf]{font-size:16px;font-weight:500;margin-right:5%;color:#3193f6}.new-data #calendar .year-month .year-month_left .top-time1[data-v-445f0daf]{color:#000;font-size:16px;font-weight:500;margin-right:5%}.new-data #calendar .year-month .year-month_left .kr-span3[data-v-445f0daf]{width:24%;padding:0;line-height:100%;float:right}.new-data #calendar .year-month .year-month_left .kr-span3 .van-icon[data-v-445f0daf]{font-size:24px}.new-data #calendar .year-month .year-month_left .kr-span3 .van-icon-arrow-down[data-v-445f0daf]{margin-left:10%}.new-data #calendar .year-month .year-month_left ul[data-v-445f0daf]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.new-data #calendar .year-month .year-month_left ul li[data-v-445f0daf]{color:#444;font-size:16px}.new-data #calendar .year-month .year-month_right[data-v-445f0daf]{height:100%;width:20%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:12px}.new-data #calendar .year-month .year-month_right .i-plus-empty[data-v-445f0daf]{fill:#f18d2f}.new-data #calendar .weekdays[data-v-445f0daf]{margin:0;height:40px;font-size:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#666;-ms-flex-pack:distribute;justify-content:space-around}.new-data #calendar .weekdays li[data-v-445f0daf]{display:inline-block;width:13.6%;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.new-data #calendar .days[data-v-445f0daf]{height:290px;padding:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:distribute;justify-content:space-around;overflow:hidden;position:relative}.new-data #calendar .days li[data-v-445f0daf]{list-style-type:none;display:inline-block;height:42px;width:13.4%;text-align:center;font-size:14px;color:#000;position:relative}.new-data #calendar .days li .active[data-v-445f0daf]{border-radius:50%;background:#3a8fea;color:#fff}.new-data #calendar .days li .active[data-v-445f0daf],.new-data #calendar .days li .other-month[data-v-445f0daf]{width:40px;height:40px;margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.new-data #calendar .days li .other-month[data-v-445f0daf]{color:#a2a2a2}.new-data #calendar .days li .everyDay[data-v-445f0daf]{width:40px;height:40px;margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.new-data #calendar .days li .circle[data-v-445f0daf]{width:4px;height:4px;border-radius:50%;background-color:#f2553d;position:absolute;bottom:6px;left:48%}.new-data #calendar .days li .o[data-v-445f0daf]{width:4px;height:4px;border-radius:50%;border:1px solid #f2553d;position:absolute;bottom:1px;left:49%}.new-data #calendar .days li .otherday[data-v-445f0daf]{width:38px;height:38px;margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:50%;border:1px solid #b2b2b2}.new-data #calendar .fadeOut[data-v-445f0daf]{-webkit-animation-name:fadeOut-data-v-445f0daf;animation-name:fadeOut-data-v-445f0daf;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.new-data #calendar .fadeOutR[data-v-445f0daf]{-webkit-animation-name:fadeOutR-data-v-445f0daf;animation-name:fadeOutR-data-v-445f0daf;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.new-data #calendar .fadeIn[data-v-445f0daf]{-webkit-animation-name:fadeIn-data-v-445f0daf;animation-name:fadeIn-data-v-445f0daf;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.new-data #calendar .fadeInR[data-v-445f0daf]{-webkit-animation-name:fadeInR-data-v-445f0daf;animation-name:fadeInR-data-v-445f0daf;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.new-data #calendar .background[data-v-445f0daf]{position:absolute;top:100px;height:211px;width:100%;z-index:-1;overflow:hidden;-webkit-transition:all .5s;transition:all .5s}.new-data #calendar .background .dbg[data-v-445f0daf]{background-color:#e1e1e1;height:42.2px}.new-data #calendar .background .lbg[data-v-445f0daf]{background-color:#d5d5d5;height:42.2px}.new-data .content-padded[data-v-445f0daf]{margin:0;height:30%}.new-data .content-padded .row .col-100 .user-card[data-v-445f0daf],.new-data .content-padded .row .col-100[data-v-445f0daf],.new-data .content-padded .row[data-v-445f0daf]{height:100%}.new-data .col-100[data-v-445f0daf]{background:#fff}.new-data .col-100 .user-card[data-v-445f0daf]{padding:15px;background:url("+e("vR/c")+') no-repeat;background-size:100%}.new-data .col-100 .user-card[data-v-445f0daf]:after{display:block;width:100%;height:100%;content:""}.new-data .col-100 .user-card .card-header .img[data-v-445f0daf]{float:left}.new-data .col-100 .user-card .card-header a[data-v-445f0daf]{float:right;color:#fff}.new-data .col-100 .user-card .card-header a b[data-v-445f0daf]{font-size:16px;font-weight:400;text-decoration:underline}.new-data .col-100 .user-card .card-content[data-v-445f0daf]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-top:10px}.new-data .col-100 .user-card .card-content ul[data-v-445f0daf]{width:60%}.new-data .col-100 .user-card .card-content ul li[data-v-445f0daf]{color:#fff;padding:7px;font-weight:300;font-size:15px}.new-data .col-100 .user-card .card-content ul li b[data-v-445f0daf]{font-weight:300}.new-data .col-100 .user-card .card-content ol[data-v-445f0daf]{width:40%}.new-data .col-100 .user-card .card-content ol .kr-img[data-v-445f0daf]{text-align:center}.new-data .col-100 .user-card .card-content ol li a[data-v-445f0daf]{display:inline-block;color:#3193f6}.new-data .col-100 .user-card .card-content ol li p[data-v-445f0daf]{text-align:left;color:red;font-family:PingFang_Bold;font-size:15px}.new-data .kr-row[data-v-445f0daf]{margin:0;height:70%}.new-data .kr-row .kr-top[data-v-445f0daf]{height:85%;background:#fff}.new-data .kr-row .kr-buttom[data-v-445f0daf]{height:15%;text-align:center}.new-data .kr-row .kr-buttom span[data-v-445f0daf]{display:inline-block;font-size:13px;font-family:PingFang_Regular;color:#3193f6}@-webkit-keyframes fadeOut-data-v-445f0daf{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}}@keyframes fadeOut-data-v-445f0daf{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}}@-webkit-keyframes fadeIn-data-v-445f0daf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}@keyframes fadeIn-data-v-445f0daf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}@-webkit-keyframes fadeOutR-data-v-445f0daf{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}}@keyframes fadeOutR-data-v-445f0daf{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}}@-webkit-keyframes fadeInR-data-v-445f0daf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}@keyframes fadeInR-data-v-445f0daf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}',""])},jpg6:function(a,t,e){"use strict";function n(a){e("pN0n")}Object.defineProperty(t,"__esModule",{value:!0});var i=e("bOdI"),r=e.n(i),o=e("rYnR"),s=e("Gs2z"),d=e("Fd2+"),l={components:{myHeader:o.default,headerThree:s.a},data:function(){var a;return a={isLoading:!1,scrollTop:0,status:2,result:"",user:"小胖子",header:e("kmcC"),formData:{groupArea:"",userName:"",userNo:"",userAddress:""},message:{},currentDay:1,currentMonth:"",currentYear:"",currentWeek:1,newWeek:1,days:[],weekdays:["日","一","二","三","四","五","六"],positionSX:"",positionEX:"",positionSY:"",positionEY:"",isChange:!1,show:!0,fadeOut:!1,fadeIn:!1,fadeOutR:!1,fadeInR:!1,monthList:[]},r()(a,"status",""),r()(a,"otherDay",""),r()(a,"needData",[]),r()(a,"newDay",""),a},filters:{dealUser:function(a){return a.length>5?a.slice(0,5)+"...":a}},created:function(){},mounted:function(){$("#myTitle").html("用水分析"),console.log(this.$route.query),this.formData.groupArea=this.$route.query.groupArea,this.formData.userName=this.$route.query.userName,this.formData.userNo=this.$route.query.userNo,this.formData.userAddress=this.$route.query.userAddress,this.message={title:"用水分析",span1:this.formData.groupArea,span2:this.formData.userName+" ("+this.formData.userNo+")",span3:this.formData.userAddress,status:0,warning1:"疑似漏水！",warning2:this.result},this.currentYear=this.$route.query.month.slice(0,4),this.currentMonth=this.$route.query.month.slice(4),this.getNeedData(),this.initShow()},methods:{scroll:function(a){parseInt(a.target.clientHeight)+Math.ceil(a.target.scrollTop)===parseInt(a.target.scrollHeight)||0==a.target.scrollTop&&a.stopPropagation(),this.$set(this,"scrollTop",a.target.scrollTop)},touchmove:function(a){0!==this.scrollTop&&a.stopPropagation()},onRefresh:function(){var a=this;setTimeout(function(){a.$toast("刷新成功"),a.isLoading=!1,a.init(),a.getNeedData(),a.initShow()},500)},moduleAccess:function(a){var t={data:{groupCode:a,openId:localStorage.getItem("openId"),moduleId:"5"}};this.$api.fetch({params:t,apiUrl:"/common/moduleVisitAdd"}).then(function(a){})},init:function(){var a=this,t={userNo:localStorage.getItem("userNo"),area:localStorage.getItem("groupCode")},e={data:t};a.$api.fetch({params:e,apiUrl:"/myWater/bindUserBill"}).then(function(t){_this.moduleAccess(_this.$route.query.groupCode),a.formData.userName=t.userName,a.formData.userNo=t.userNo,a.formData.userAddr=t.userAddr,a.formData.totalArrearage=t.totalArrearage,a.formData.totalPay=t.totalPay,a.formData.accountBalance=t.accountBalance})},initShow:function(){var a=this,t={userNo:a.$route.query.userNo,groupCode:a.$route.query.groupCode},e={data:t};a.$api.fetch({params:e,apiUrl:"/myWater/waterLoseQuery.api"}).then(function(t){a.status=t.status,a.result=t.result,a.message.warning2=t.result,a.message.status=t.status})},getNeedData:function(){var a=this,t="",e="",n=a.currentYear,i=a.currentMonth;i<10&&(i="0"+i),t=n.toString()+i.toString(),e=n.toString()+"-"+i.toString()+"-01";var r={userNo:a.$route.query.userNo,groupCode:a.$route.query.groupCode,month:t},o={data:r};a.$api.fetch({params:o,apiUrl:"/myWater/dayFluxQuery.api"}).then(function(t){a.needData=t,a.initData(e)})},getDayMessage:function(a,t,e){this.getCurrentWeek(a,t,e);var n=this.formatDate(a,t,e);this.$emit("change",n,t,e),this.otherDay=e},getCurrentWeek:function(a,t,e){var n=a+"-"+t+"-"+e,i=n.split("-"),r=new Date(i[0],parseInt(i[1]-1),i[2]);this.newWeek=r.getDay()},otherMonth:function(a){a<15?this.rightSliding():a>15&&this.leftSliding()},addSchedule:function(){this.$emit("add")},allTouchStart:function(a){this.positionSX=a.changedTouches[0].clientX,this.positionSY=a.changedTouches[0].clientY},allTouchEnd:function(a){this.positionEX=a.changedTouches[0].clientX,this.positionEY=a.changedTouches[0].clientY;var t=this.positionEY-this.positionSY,e=this.positionSX-this.positionEX;t<-30&&Math.abs(t)>Math.abs(e)&&(this.isChange=!0),t>30&&Math.abs(t)>Math.abs(e)&&(this.isChange=!1)},touchStart:function(a){this.positionSX=a.changedTouches[0].clientX,this.positionSY=a.changedTouches[0].clientY},touchEnd:function(a){this.show=!this.show,this.positionEX=a.changedTouches[0].clientX,this.positionEY=a.changedTouches[0].clientY;var t=this.positionEY-this.positionSY,e=this.positionSX-this.positionEX;e>30&&Math.abs(t)<Math.abs(e)&&this.rightSliding(),e<-30&&Math.abs(t)<Math.abs(e)&&this.leftSliding()},takeChage:function(a){var t="";t=this.currentYear<(new Date).getFullYear()||this.currentYear==(new Date).getFullYear()&&this.currentMonth+1<(new Date).getMonth(),0==a?this.leftSliding():t?this.rightSliding():d.d.fail("只能查看"+(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月之前的数据。")},rightSliding:function(){if(this.currentYear<(new Date).getFullYear()||this.currentYear==(new Date).getFullYear()&&this.currentMonth+1<(new Date).getMonth()){var a=this;a.pickNext(a.currentYear,a.currentMonth),a.fadeOut=!0,a.fadeIn=!1,a.fadeInR=!1,a.fadeOutR=!1,setTimeout(function(){a.fadeIn=!0,a.fadeOut=!1,a.fadeOutR=!1,a.fadeInR=!1},300)}else d.d.fail("只能查看"+(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月之前的数据。")},leftSliding:function(){var a=this;a.pickPre(a.currentYear,a.currentMonth),a.fadeOutR=!0,a.fadeInR=!1,a.fadeOut=!1,a.fadeIn=!1,setTimeout(function(){a.fadeInR=!0,a.fadeOutR=!1,a.fadeOut=!1,a.fadeIn=!1},300)},initData:function(a){var t=this,e=void 0;if(a)e=new Date(a);else{var n=new Date,i=this.formatDate(n.getFullYear(),n.getMonth(),1),r=new Date(i);r.setDate(42),e=new Date(this.formatDate(r.getFullYear(),r.getMonth()+1,1))}this.currentDay=e.getDate(),this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth()+1,this.currentWeek=e.getDay(),a&&this.otherDay||(this.otherDay=(new Date).getDate());var o=this.formatDate(this.currentYear,this.currentMonth,this.currentDay);this.days.length=0;for(var s=this.currentWeek;s>=0;s--){var d=new Date(o);d.setDate(d.getDate()-s);var l={};l.day=d,l.status="",t.needData.length>0&&(l.num=t.needData[0].value),this.days.push(l)}for(var f=1;f<=41-this.currentWeek;f++){var c=new Date(o);c.setDate(c.getDate()+f);var h={};h.day=c,h.status="",f<t.needData.length&&(h.num=t.needData[f].value),this.days.push(h)}for(var u=[],p=0,m=this.days.length;p<m;p++)this.days[p].day.getMonth()+1===this.currentMonth&&u.push(this.days[p].day.getDate());var g=Math.max.apply(null,u);this.otherDay>g&&(this.otherDay=g),this.getDayMessage(this.currentYear,this.currentMonth,this.otherDay)},pickPre:function(a,t){var e=new Date(this.formatDate(a,t,1));this.newDay=e,e.setDate(0),this.initData(this.formatDate(e.getFullYear(),e.getMonth()+1,1)),this.getNeedData()},pickNext:function(a,t){var e=new Date(this.formatDate(a,t,1));this.newDay=e,e.setDate(42),this.initData(this.formatDate(e.getFullYear(),e.getMonth()+1,1)),this.getNeedData()},formatDate:function(a,t,e){var n=a,i=t;i<10&&(i="0"+i);var r=e;return r<10&&(r="0"+r),n+"-"+i+"-"+r}}},f=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"new-data"},[e("page-content",[e("div",{staticClass:"content-padded"},[e("headerThree",{attrs:{message:a.message}})],1),a._v(" "),e("div",{staticClass:"row kr-row"},[e("div",{staticClass:"kr-top"},[e("div",{class:{change:a.isChange},attrs:{id:"calendar"}},[e("div",{staticClass:"year-month"},[e("div",{staticClass:"year-month_left"},[e("span",{staticClass:"top-tite"},[a._v("智慧用水(单位:吨)")]),a._v(" "),e("span",{staticClass:"top-time"},[a._v(a._s(a.currentYear)+"年")]),a._v(" "),e("span",{staticClass:"top-time1"},[a._v(a._s(a.currentMonth)+"月")]),a._v(" "),e("span",{staticClass:"kr-span kr-span3"},[e("van-icon",{attrs:{name:"arrow-up"},on:{click:function(t){a.takeChage(0)}}}),a._v(" "),e("van-icon",{attrs:{name:"arrow-down"},on:{click:function(t){a.takeChage(1)}}})],1)])]),a._v(" "),e("ul",{staticClass:"weekdays"},a._l(a.weekdays,function(t,n){return e("li",{key:n,domProps:{textContent:a._s(t)}})})),a._v(" "),e("ul",{staticClass:"days",class:{fadeOut:a.fadeOut,fadeIn:a.fadeIn,fadeOutR:a.fadeOutR,fadeInR:a.fadeInR},on:{touchstart:[a.allTouchStart,function(t){t.stopPropagation(),a.touchStart(t)}],touchend:[a.allTouchEnd,function(t){t.stopPropagation(),a.touchEnd(t)}]}},a._l(a.days,function(t,n){return e("li",{key:n,class:{weekend:n%7==0||(n+1)%7==0}},[t.day.getMonth()+1!==a.currentMonth?e("div",{staticClass:"other-month",on:{click:function(e){a.otherMonth(t.day.getDate())}}},[a._v("\n                "+a._s(t.day.getDate()))]):e("div",{staticClass:"everyDay"},[e("div",[a._v(a._s(t.day.getDate())+"\n                  "),a._v(" "),e("div",{staticStyle:{color:"#51ce82"}},[a._v(a._s(t.num))])]),a._v(" "),e("div",{class:{circle:"3"===t.status,o:"2"===t.status}})])])})),a._v(" "),e("div",{staticClass:"background",class:{change:a.isChange}},a._l(5,function(a,t){return e("div",{key:t,class:{dbg:t%2==0,lbg:t%2!=0}})}))])]),a._v(" "),e("div",{staticClass:"kr-buttom"},[e("div",[e("span",[a._v("用水数据每天进行更新")])]),a._v(" "),e("div",[e("span",[a._v("数据仅供参考，抄表计费以实际用水为单位")])])])])])],1)},c=[],h={render:f,staticRenderFns:c},u=h,p=e("VU/8"),m=n,g=p(l,u,!1,m,"data-v-445f0daf",null);t.default=g.exports},pN0n:function(a,t,e){var n=e("UiAp");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("po5z")("30045057",n,!0)}});
//# sourceMappingURL=45.2ec754d535e7f7745d5b.js.map