webpackJsonp([35],{"/oru":function(t,a,e){var o=e("QENM");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("po5z")("6c098907",o,!0)},FQL0:function(t,a,e){"use strict";function o(t){e("/oru")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("Fd2+"),n=e("rYnR"),r=e("Gs2z"),s={components:{myHeader:n.default,headerThree:r.a},data:function(){return{message:{title:"为其他户号缴费",isShow:""},isLoading:!1,scrollTop:0,title:"为其他户号缴费",relationShow:!1,arrListName:[],arrListCode:[],isShow:2,needData:{groupName:"",userNo:"",groupCode:""},showAddress:!1,areaNum:"01013",areaList:{},userlist:{address:""}}},mounted:function(){this.getArrList3()},methods:{onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.getArrList3()},500)},scroll:function(t){parseInt(t.target.clientHeight)+Math.ceil(t.target.scrollTop)===parseInt(t.target.scrollHeight)||0==t.target.scrollTop&&t.stopPropagation(),this.$set(this,"scrollTop",t.target.scrollTop)},touchmove:function(t){0!==this.scrollTop&&t.stopPropagation()},getArrList:function(){var t=this,a={data:{}};t.$api.fetch({params:a,apiUrl:"/common/wCompanyList"}).then(function(a){for(var e=0;e<a.length;e++)console.log(a),t.needData.groupName=a[0].groupFullName,t.needData.groupCode=a[0].groupCode,t.arrListName.push(a[e].groupFullName),t.arrListCode.push(a[e].groupCode)})},goRecharge:function(){var t=this,a="";if(""==t.needData.groupCode)return a="所属区域不能为空",void i.d.fail(a);if(""==t.needData.userNo)return a="用户编号不能为空",void i.d.fail(a);var e={data:{area:t.needData.groupCode,userNo:t.needData.userNo}};t.$api.fetch({params:e,apiUrl:"/myWater/unBindUserBill"}).then(function(a){var e={type:"1"};localStorage.setItem("isHide","1"),localStorage.setItem("userNo",t.needData.userNo),localStorage.setItem("groupCode",t.needData.groupCode),localStorage.setItem("num","0"),localStorage.setItem("groupOpenId","null"),t.$router.push({path:"/recharge",query:e})})},showAddressChuang:function(){this.relationShow=!0},sure:function(t){console.log(t),void 0===t[2]||""==t[2].code?(this.needData.groupCode=t[1].code.slice(2),this.userlist.address=t[0].name+t[1].name):(this.needData.groupCode=t[2].code.slice(4),this.userlist.address=t[0].name+t[1].name+t[2].name),this.userlist.address=this.userlist.address.replace("*",""),console.log(this.needData.groupCode),this.relationShow=!1},exit:function(){this.relationShow=!1},onChange:function(){},getArrList2:function(){var t=this,a={data:{openId:localStorage.getItem("openId")}};t.$api.fetch({params:a,apiUrl:"/common/wAreaTree"}).then(function(a){var e={},o={},i={},n=[],r=[],s="",l="";if(0!==a.length)for(var d=0;d<a.length;d++){var c=a[d].value;if(s=parseInt(d+1)<10?"0"+(d+1):d+1,e[s+"0000"]=c,n=a[d].children,0!==n.length)for(var p=0;p<n.length;p++){var u=n[p].value;if(r=n[p].children,l=parseInt(p+1)<10?"0"+(p+1):p+1,0==r.length){var f=n[p].groupCode;o[s+l+f]=u}else o[s+l+"00"]=u;if(0!==r.length)for(var h=0;h<r.length;h++){var g=r[h].value,b=r[h].groupCode;i[s+l+b]=g}}}t.areaList.province_list=e,t.areaList.city_list=o,t.areaList.county_list=i})},getArrList3:function(){var t=this,a={data:{openId:localStorage.getItem("openId")}};t.$api.fetch({params:a,apiUrl:"/common/wAreaTree"}).then(function(a){t.areaList.province_list=a.provinceMap,t.areaList.city_list=a.cityMap,t.areaList.county_list=a.areaMap,t.getBindData()})},getBindData:function(){var t=this,a={data:{}};t.$api.fetch({params:a,apiUrl:"/common/getUserInfo"}).then(function(a){var e=a.bwcList;if(console.log(e),e.length>0){t.needData.groupCode=e[0].groupCode,t.userlist.address=e[0].groupName;var o=t.needData.groupCode,i=t.areaList.county_list,n=t.areaList.city_list,r=t.areaNum;t.areaNum=t.common.companyTree(o,i,n,r)}else t.getGeolocation()})},getSpaceNum:function(t,a){var e=this,o={data:{longitude:t,latitude:a}};e.$api.fetch({params:o,apiUrl:"/common/getShortestComp"}).then(function(t){e.$set(e.needData,"groupCode",t.groupCode),e.$set(e.userlist,"address",t.groupArea)})},getGeolocation:function(){var t=this,a=new AMap.Map("container",{resizeEnable:!0});AMap.plugin("AMap.Geolocation",function(){var e=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0});a.addControl(e),e.getCurrentPosition(function(a,e){"complete"==a&&t.getSpaceNum(e.position.lng,e.position.lat)})})},selectRelation:function(){this.relationShow=!0},onCancelRelation:function(){this.relationShow=!1},onConfirmRelation:function(t,a){this.needData.groupCode=this.arrListCode[a],this.needData.groupName=t,this.relationShow=!1}}},l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"fast-pay"},[e("page-content",[e("div",{staticClass:"content-padded"},[e("headerThree",{staticClass:"myheader",attrs:{message:t.message}}),t._v(" "),e("div",{staticClass:"row bottom_content",on:{touchmove:function(a){t.touchmove(a)},scroll:function(a){t.scroll(a)}}},[e("div",{staticClass:"col-100"},[e("div",{staticClass:"kr-body"},[e("div",{staticClass:"kr-body-info"},[e("div",{staticClass:"kr-containt"},[e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-blue kr-select",attrs:{"left-icon":"location-o",readonly:"",placeholder:"请选择所属地区",label:"所属地区","right-icon":"arrow"},on:{click:t.showAddressChuang,"click-right-icon":t.showAddressChuang},model:{value:t.userlist.address,callback:function(a){t.$set(t.userlist,"address",a)},expression:"userlist.address"}})],1),t._v(" "),e("div",{staticClass:"kr-line"}),t._v(" "),e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-red",attrs:{"left-icon":"user-o",label:"用户编号",placeholder:"请输入用户编号",clearable:"",oninput:"this.value=this.value.replace(/[^0-9.a-zA-Z]+/,'');",size:"large"},model:{value:t.needData.userNo,callback:function(a){t.$set(t.needData,"userNo",a)},expression:"needData.userNo"}})],1)])])]),t._v(" "),e("van-popup",{style:{height:"40%"},attrs:{position:"bottom"},model:{value:t.relationShow,callback:function(a){t.relationShow=a},expression:"relationShow"}},[e("van-area",{attrs:{"area-list":t.areaList,value:t.areaNum},on:{confirm:t.sure,cancel:t.exit,change:t.onChange}})],1),t._v(" "),e("p",{staticClass:"form-button"},[e("m-button",{staticClass:"kr-btn",staticStyle:{display:"inline-block",width:"93%","font-size":"20px",background:"#479EFF",color:"#fff"},attrs:{size:"large"},nativeOn:{click:function(a){t.goRecharge(a)}}},[t._v("\n              查询欠费\n            ")])],1)],1)])],1)])],1)},d=[],c={render:l,staticRenderFns:d},p=c,u=e("VU/8"),f=o,h=u(s,p,!1,f,"data-v-701a34b0",null);a.default=h.exports},QENM:function(t,a,e){a=t.exports=e("FZ+f")(void 0),a.push([t.i,".fast-pay .van-cell--large[data-v-701a34b0]{padding:12px 0}.fast-pay .icon[data-v-701a34b0]{-webkit-transform:rotate(90deg);transform:rotate(90deg);display:inline-block}.fast-pay .form-button[data-v-701a34b0]{text-align:center}.fast-pay .form-button .kr-btn[data-v-701a34b0]{display:inline-block;width:93%;font-size:20px;background:#479eff;color:#fff}.fast-pay .user_inp[data-v-701a34b0]{border:none;height:80%;font-size:15px}.fast-pay .add_content[data-v-701a34b0]{display:inline-block;position:absolute;top:26.5%;right:10px;font-size:50px;color:#fff;background:#ed702d;height:50px;width:50px;text-align:center;line-height:50px;border-radius:50%}.fast-pay .bottom_content[data-v-701a34b0]{width:94%;position:absolute;top:6rem;left:3%;margin:0 0 10px}.fast-pay .bottom_content .col-100[data-v-701a34b0]{text-align:center;width:100%;margin-left:0}.fast-pay .bottom_content .button[data-v-701a34b0]{background-color:#fff;color:#b6b6b6;font-size:1rem}.fast-pay .content-padded[data-v-701a34b0]{margin:0;height:100%}.fast-pay .content-padded .myheader[data-v-701a34b0]{height:9rem}.fast-pay .row[data-v-701a34b0]{margin-left:0}.fast-pay .col-100 .midle-bar[data-v-701a34b0]{padding:0 10px 0 15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.fast-pay .col-100 .midle-bar b[data-v-701a34b0]{font-size:20px;line-height:40px}.fast-pay .col-100 .kr-body[data-v-701a34b0]{padding:3%}.fast-pay .col-100 .kr-body .kr-body-info[data-v-701a34b0]{border-radius:5px;background:#fff;-webkit-box-shadow:1px 1px 5px 1px #888;box-shadow:1px 1px 5px 1px #888}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div[data-v-701a34b0]{padding:10px;font-weight:300;font-size:15px}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div .kr-select[data-v-701a34b0]{padding:10px 0}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div .kr-name[data-v-701a34b0]{display:inline-block;width:30%;font-weight:600}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div .kr-title[data-v-701a34b0]{color:#000;font-weight:600}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div input[data-v-701a34b0],.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div select[data-v-701a34b0]{color:#000;font-weight:600;border:0}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-div select[data-v-701a34b0]{width:30%}.fast-pay .col-100 .kr-body .kr-body-info .kr-containt .kr-line[data-v-701a34b0]{width:90%;height:1px;background:#ebebeb;margin:0 auto}",""])}});
//# sourceMappingURL=35.c6c1c49ae1bec8a7e68a.js.map