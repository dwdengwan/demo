webpackJsonp([46],{hbwk:function(t,a,o){var e=o("z20j");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o("po5z")("26d37f68",e,!0)},xkxJ:function(t,a,o){"use strict";function e(t){o("hbwk")}Object.defineProperty(a,"__esModule",{value:!0});var n=o("j8VX"),c=o("Gs2z"),s=o("Fd2+"),r={components:{headerTwo:n.a,headerThree:c.a},data:function(){return{title:"联系人",isLoading:!1,scrollTop:0,message:{},user:"小胖子",list:[{title:"用户编号",content:"1001111"},{title:"用户名称",content:"*胖子"},{title:"用户地址",content:"步埠路39号"},{title:"所属水司",content:"梧州水司"}],buttons:[{name:"切换用户"}],showData:{isShowUL:!1,isShowLink:!1,isShowBtn:!1,isShowCompany:!0,userName:"",userNo:"",userAddress:"",groupName:"",accountBalance:"",totalArrearage:"",totalPay:""},tableData:[]}},filters:{dealUser:function(t){return t.length>5?t.slice(0,5)+"...":t}},mounted:function(){this.init()},methods:{scroll:function(t){parseInt(t.target.clientHeight)+Math.ceil(t.target.scrollTop)===parseInt(t.target.scrollHeight)||0==t.target.scrollTop&&t.stopPropagation(),this.$set(this,"scrollTop",t.target.scrollTop)},touchmove:function(t){0!==this.scrollTop&&t.stopPropagation()},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.init()},500)},moduleAccess:function(t){var a={data:{groupCode:t,openId:localStorage.getItem("openId"),moduleId:"6"}};this.$api.fetch({params:a,apiUrl:"/common/moduleVisitAdd"}).then(function(t){})},init:function(){var t=this,a={data:{groupCode:this.$route.query.groupCode,userNo:this.$route.query.userNo}};this.$api.fetch({params:a,apiUrl:"/myWater/connecterList"}).then(function(a){t.moduleAccess(t.$route.query.groupCode),t.tableData=a.conList,t.showData.userName=a.userName,t.showData.userNo=a.userNo,t.showData.userAddress=a.userAddress,t.showData.groupName=a.groupName,t.message={title:"联系人",span1:t.showData.userName+"("+t.showData.userNo+")",span2:t.showData.userAddress,span3:"所属水司："+t.showData.groupName,status:0,warning1:"疑似漏水！"}})},goContactEdit:function(t){t.content="edit",console.log(t),this.$router.push({path:"/contactEdit",query:t})},addItem:function(){var t={};t.content="add",t.userNo=this.$route.query.userNo,t.groupCode=this.$route.query.groupCode,console.log(t),this.$router.push({path:"/contactEdit",query:t})},delItem:function(t){var a=this;s.b.confirm({message:"确定删除联系人 "+t.name+"？"}).then(function(){var o={data:t.id};a.$api.fetch({params:o,apiUrl:"/myWater/connecterDelete"}).then(function(t){s.d.success("删除成功"),setTimeout(function(){a.init()},1e3)})}).catch(function(){})}}},i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"contacts"},[o("page-content",[o("div",{staticClass:"content-padded"},[o("headerThree",{attrs:{message:t.message}}),t._v(" "),o("div",{staticClass:"row",on:{touchmove:function(a){t.touchmove(a)},scroll:function(a){t.scroll(a)}}},[o("div",{staticClass:"col-100"},[o("div",{staticClass:"kr-body"},[0!==t.tableData.length?o("div",{staticClass:"kr-body-info Slide"},t._l(t.tableData,function(a){return o("div",{key:a.id,staticClass:"kr-containt",on:{click:function(o){t.goContactEdit(a)}}},[o("van-swipe-cell",{attrs:{"right-width":80}},[o("div",{staticClass:"kr-div-parent"},[o("div",{staticClass:"kr-left"},[o("div",{staticClass:"kr-parent"},[t._v(t._s(a.name)+" ("),o("span",[t._v(t._s(a.relation))]),t._v(")")]),t._v(" "),o("div",{staticClass:"kr-phone"},[t._v("手机号码: "),o("span",[t._v(t._s(a.mobile))])]),t._v(" "),o("div",{staticClass:"kr-phone"},[t._v("固定电话: "),o("span",[t._v(t._s(a.tel))])])])]),t._v(" "),o("template",{slot:"right"},[o("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(o){t.delItem(a)}}})],1)],2)],1)})):o("div",{staticClass:"no-people"},[t._v("\n              暂无联系人\n            ")]),t._v(" "),o("div",{staticClass:"kr-button",on:{click:t.addItem}},[o("m-button",{attrs:{size:"large"}},[t._v("添加联系人")])],1)])])])],1)])],1)},d=[],l={render:i,staticRenderFns:d},p=l,u=o("VU/8"),h=e,v=u(r,p,!1,h,"data-v-2947612c",null);a.default=v.exports},z20j:function(t,a,o){a=t.exports=o("FZ+f")(void 0),a.push([t.i,".contacts .row[data-v-2947612c]{overflow:hidden;margin-left:0}.contacts .van-swipe-cell__right .van-button[data-v-2947612c]{height:100%;width:100%}.contacts .content-padded[data-v-2947612c]{margin:0}.contacts .item-icon[data-v-2947612c]{position:absolute;left:50%;top:5%}.contacts .col-100[data-v-2947612c]{margin-left:2%}.contacts .col-100 .list[data-v-2947612c]{margin:0}.contacts .col-100 .list .list-title[data-v-2947612c]{padding:0}.contacts .col-100 .user-card[data-v-2947612c]{padding:15px;background:url("+o("vR/c")+') no-repeat;background-size:100%}.contacts .col-100 .user-card[data-v-2947612c]:after{display:block;width:100%;height:100%;content:""}.contacts .col-100 .user-card .card-header .img[data-v-2947612c]{float:left}.contacts .col-100 .user-card .card-header a[data-v-2947612c]{float:right;color:#fff}.contacts .col-100 .user-card .card-header a b[data-v-2947612c]{font-size:16px;font-weight:400;text-decoration:underline}.contacts .col-100 .user-card .card-content[data-v-2947612c]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-top:10px}.contacts .col-100 .user-card .card-content ul[data-v-2947612c]{width:60%}.contacts .col-100 .user-card .card-content ul li[data-v-2947612c]{color:#fff;padding:7px;font-weight:300;font-size:15px}.contacts .col-100 .user-card .card-content ul li b[data-v-2947612c]{font-weight:300}.contacts .col-100 .user-card .card-content ol[data-v-2947612c]{width:40%}.contacts .col-100 .user-card .card-content ol li[data-v-2947612c]{padding:7px;text-align:right}.contacts .col-100 .user-card .card-content ol li a[data-v-2947612c]{display:inline-block;color:#3193f6}.contacts .col-100 .kr-body[data-v-2947612c]{padding:10px}.contacts .col-100 .kr-body .kr-body-info[data-v-2947612c]{-webkit-box-shadow:1px 1px 5px 1px #888;box-shadow:1px 1px 5px 1px #888;border-radius:10px}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent[data-v-2947612c]{border:1px solid #e6e6e6;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:10px;height:120px;display:-webkit-inline-box}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent .kr-left[data-v-2947612c]{width:95%}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent .kr-left .kr-parent span[data-v-2947612c]{font-size:15px}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent .kr-left .kr-phone[data-v-2947612c]{padding:5px 20px;font-size:16px}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent .kr-right[data-v-2947612c]{width:5%;padding:30px 0}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div-parent .kr-right .icon[data-v-2947612c]{display:inline-block;color:#bdbdbd;font-size:22px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.contacts .col-100 .kr-body .no-people[data-v-2947612c]{padding:3%;text-align:center;color:#aaa}.contacts .col-100 .kr-body .kr-button[data-v-2947612c]{padding:10px}',""])}});
//# sourceMappingURL=46.b36875f62cd593fe8b3e.js.map