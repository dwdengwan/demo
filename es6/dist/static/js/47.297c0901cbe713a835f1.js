webpackJsonp([47],{D5PD:function(t,a,e){a=t.exports=e("FZ+f")(void 0),a.push([t.i,".contacts .van-cell[data-v-1f6d980b]{padding:0}.contacts .content-padded[data-v-1f6d980b]{margin:0}.contacts .bottom_content[data-v-1f6d980b]{width:94%;position:absolute;top:6rem;left:3%;margin-left:0}.contacts .bottom_content .col-100[data-v-1f6d980b]{width:100%;margin-left:0}.contacts .img_content[data-v-1f6d980b]{margin:0;height:9rem;width:100%;background:url("+e("7mx4")+') no-repeat;background-size:100% 100%}.contacts .item-icon[data-v-1f6d980b]{position:absolute;left:50%;top:5%}.contacts .col-100 .list[data-v-1f6d980b]{margin:0}.contacts .col-100 .list .list-title[data-v-1f6d980b]{padding:0}.contacts .col-100 .user-card[data-v-1f6d980b]{border-radius:10px;padding:27% 0 0;background-size:100%}.contacts .col-100 .user-card[data-v-1f6d980b]:after{display:block;width:100%;height:100%;content:""}.contacts .col-100 .user-card .card-header .img[data-v-1f6d980b]{float:left}.contacts .col-100 .user-card .card-header a[data-v-1f6d980b]{float:right}.contacts .col-100 .user-card .card-header a b[data-v-1f6d980b]{font-size:16px;font-weight:400;text-decoration:underline}.contacts .col-100 .user-card .card-content[data-v-1f6d980b]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative}.contacts .col-100 .user-card .card-content .left-img[data-v-1f6d980b]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:.25rem 0;width:25%}.contacts .col-100 .user-card .card-content .left-img img[data-v-1f6d980b]{width:100%;border-radius:50%;overflow:hidden}.contacts .col-100 .user-card .card-content .right-content[data-v-1f6d980b]{margin-left:.75rem;width:100%;position:relative;padding:.9rem .75rem .4rem 0;color:#fff}.contacts .col-100 .user-card .card-content .right-content h4[data-v-1f6d980b],.contacts .col-100 .user-card .card-content .right-content span[data-v-1f6d980b]{margin:10px 0;font-size:24px}.contacts .col-100 .user-card .card-content .right-content h4 a[data-v-1f6d980b]{color:#fff;float:right;font-size:15px;line-height:27px;font-weight:300;font-weight:500}.contacts .col-100 .user-card .card-content .right-content p[data-v-1f6d980b]{font-size:16px}.contacts .col-100 .user-card .card-content .right-content p span[data-v-1f6d980b]{padding-left:20px;background:url('+e("ASAz")+") no-repeat;background-position:0 100%;background-size:14px}.contacts .col-100 .kr-body[data-v-1f6d980b]{padding:10px}.contacts .col-100 .kr-body .kr-body-info[data-v-1f6d980b]{border-radius:5px;background:#fff;-webkit-box-shadow:1px 1px 5px 1px #888;box-shadow:1px 1px 5px 1px #888}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div[data-v-1f6d980b]{padding:15px;font-weight:300;font-size:15px}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div .kr-name[data-v-1f6d980b]{display:inline-block;width:30%}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div .kr-title[data-v-1f6d980b]{color:#000}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div input[data-v-1f6d980b],.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div select[data-v-1f6d980b]{color:#000;border:0}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-div select[data-v-1f6d980b]{width:30%}.contacts .col-100 .kr-body .kr-body-info .kr-containt .kr-line[data-v-1f6d980b]{width:90%;height:1px;background:#ebebeb;margin:0 auto}.contacts .col-100 .kr-body .kr-button[data-v-1f6d980b]{padding:10px}",""])},KO52:function(t,a,e){"use strict";function o(t){e("xRse")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("rYnR"),n=e("Gs2z"),l=e("Fd2+"),r={components:{myHeader:i.default,headerThree:n.a},data:function(){return{message:{title:"",isShow:""},isLoading:!1,scrollTop:0,title:"",user:"小胖子",list:[{title:"用户编号",content:"1001111"},{title:"用户名称",content:"*胖子"},{title:"用户地址",content:"步埠路39号"},{title:"所属水司",content:"梧州水司"}],buttons:[{name:"切换用户"}],tableData:{name:"",relation:"",mobile:"",tel:""},relationShow:!1,relationColumns:["父亲","母亲","配偶","兄弟","姐妹","子女"]}},filters:{dealUser:function(t){return t.length>5?t.slice(0,5)+"...":t}},created:function(){"add"==this.$route.query.content?this.message.title="添加联系人":"edit"==this.$route.query.content&&(this.message.title="编辑联系人")},mounted:function(){"edit"==this.$route.query.content&&this.init()},methods:{blur:function(t,a){var e="";if(""===t){switch(a){case"name":e="联系姓名不能为空";break;case"mobile":e="手机号码不能为空";break;case"tel":e="固定电话不能为空"}Object(l.d)(e)}else"mobile"!=a||/^1[3456789]\d{9}$/.test(this.tableData.mobile)||(e="手机号码有误!",Object(l.d)(e))},scroll:function(t){parseInt(t.target.clientHeight)+Math.ceil(t.target.scrollTop)===parseInt(t.target.scrollHeight)||0==t.target.scrollTop&&t.stopPropagation(),this.$set(this,"scrollTop",t.target.scrollTop)},touchmove:function(t){0!==this.scrollTop&&t.stopPropagation()},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,"edit"==t.$route.query.content&&t.init()},500)},init:function(){var t=this.$route.query;this.tableData=t,console.log(this.tableData)},submit:function(){var t=this;if(""==this.tableData.name)return void l.d.fail("请填写姓名");if(""==this.tableData.relation)return void l.d.fail("请选择与户主关系");if(""==this.tableData.mobile&&""==this.tableData.tel)return void l.d.fail("请填写至少一个联系方式");if(""!=this.tableData.mobile&&!/^1[3456789]\d{9}$/.test(this.tableData.mobile))return void l.d.fail("手机号码有误，请重填");if(""!=this.tableData.tel&&!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(this.tableData.tel))return void l.d.fail("固定电话有误，请重填");var a;if("add"==this.$route.query.content){var e={data:{groupCode:this.$route.query.groupCode,userNo:this.$route.query.userNo,name:this.tableData.name,relation:this.tableData.relation,mobile:this.tableData.mobile,tel:this.tableData.tel}};a="/myWater/connecterAdd"}else if("edit"==this.$route.query.content){var e={data:{id:this.$route.query.id,name:this.tableData.name,relation:this.tableData.relation,mobile:this.tableData.mobile,tel:this.tableData.tel}};a="/myWater/connecterUpdate"}this.$api.fetch({params:e,apiUrl:a}).then(function(a){"add"==t.$route.query.content?l.d.success("添加成功！"):"edit"==t.$route.query.content&&l.d.success("修改成功！"),setTimeout(function(){t.$router.back()},2e3)})},selectRelation:function(){this.relationShow=!0},onCancelRelation:function(){this.relationShow=!1},onConfirmRelation:function(t,a){this.tableData.relation=t,this.relationShow=!1}}},c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"contacts"},[e("page-content",[e("div",{staticClass:"content-padded"},[e("headerThree",{attrs:{message:t.message}}),t._v(" "),e("div",{staticClass:"row bottom_content"},[e("div",{staticClass:"col-100"},[e("div",{staticClass:"kr-body"},[e("div",{staticClass:"kr-body-info"},[e("div",{staticClass:"kr-containt"},[e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-blue",attrs:{"left-icon":"user-o",label:"联系人姓名",placeholder:"输入姓名",size:"large"},on:{blur:function(a){t.blur(t.tableData.name,"name")}},model:{value:t.tableData.name,callback:function(a){t.$set(t.tableData,"name",a)},expression:"tableData.name"}})],1),t._v(" "),e("div",{staticClass:"kr-line"}),t._v(" "),e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-red",attrs:{"left-icon":"friends-o",clearable:"",label:"与户主关系",readonly:"",placeholder:"请选择与户主关系","right-icon":"arrow",size:"large"},on:{click:t.selectRelation,"click-right-icon":t.selectRelation},model:{value:t.tableData.relation,callback:function(a){t.$set(t.tableData,"relation",a)},expression:"tableData.relation"}})],1),t._v(" "),e("div",{staticClass:"kr-line"}),t._v(" "),e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-blue",attrs:{"left-icon":"phone-o",type:"number",label:"手机号码",placeholder:"输入手机号码",size:"large"},on:{blur:function(a){t.blur(t.tableData.mobile,"mobile")}},model:{value:t.tableData.mobile,callback:function(a){t.$set(t.tableData,"mobile",a)},expression:"tableData.mobile"}})],1),t._v(" "),e("div",{staticClass:"kr-line"}),t._v(" "),e("div",{staticClass:"kr-div"},[e("van-field",{staticClass:"yh-my-red",attrs:{"left-icon":"phone-circle-o",type:"number",label:"固定电话",placeholder:"输入固定电话",size:"large"},model:{value:t.tableData.tel,callback:function(a){t.$set(t.tableData,"tel",a)},expression:"tableData.tel"}})],1)])]),t._v(" "),e("div",{staticClass:"kr-button",on:{click:t.submit}},[e("m-button",{attrs:{size:"large"}},[t._v("完成")])],1)])])])],1)]),t._v(" "),e("van-popup",{style:{height:"40%"},attrs:{position:"bottom"},model:{value:t.relationShow,callback:function(a){t.relationShow=a},expression:"relationShow"}},[e("van-picker",{staticClass:"timepicker",attrs:{"show-toolbar":"",title:"与户主关系",columns:t.relationColumns},on:{cancel:t.onCancelRelation,confirm:t.onConfirmRelation}})],1)],1)},s=[],d={render:c,staticRenderFns:s},b=d,f=e("VU/8"),u=o,h=f(r,b,!1,u,"data-v-1f6d980b",null);a.default=h.exports},xRse:function(t,a,e){var o=e("D5PD");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("po5z")("f8548e66",o,!0)}});
//# sourceMappingURL=47.297c0901cbe713a835f1.js.map