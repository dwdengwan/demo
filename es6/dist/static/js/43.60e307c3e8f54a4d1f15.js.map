{"version":3,"sources":["webpack:///static/js/43.60e307c3e8f54a4d1f15.js","webpack:///./src/project/mywater/personalcenter/pages/waterAnalyze.vue?dc41","webpack:///./src/project/mywater/personalcenter/pages/waterAnalyze.vue?9802","webpack:///./src/project/mywater/personalcenter/pages/waterAnalyze.vue","webpack:///src/project/mywater/personalcenter/pages/waterAnalyze.vue","webpack:///./src/project/mywater/personalcenter/pages/waterAnalyze.vue?21b9"],"names":["webpackJsonp","/S/m","module","exports","__webpack_require__","undefined","push","i","gNFr","content","locals","htTU","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","myHeader","headerThree","waterAnalyze","components","data","header","status","result","formData","groupArea","userName","userNo","userAddress","message","erchartMonth","erchartValue","filters","created","this","$route","query","title","span1","span2","span3","warning1","warning2","initShow","getEchartsData","mounted","$","html","methods","that","groupCode","params","$api","fetch","apiUrl","then","res","console","log","erchart","pie","$echarts","init","document","getElementById","drawPie","name","setOption","tooltip","trigger","axisPointer","type","label","backgroundColor","grid","left","right","bottom","containLabel","xAxis","boundaryGap","yAxis","series","stack","areaStyle","color","normal","show","position","getZr","on","pointInPixel","offsetX","offsetY","containPixel","pointInGrid","convertFromPixel","seriesIndex","xIndex","op","getOption","month","$router","path","window","addEventListener","resize","setTimeout","length","parseInt","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","id","staticStyle","font-size","staticRenderFns","esExports","pages_waterAnalyze","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/43.60e307c3e8f54a4d1f15.js","sourcesContent":["webpackJsonp([43],{\n\n/***/ \"/S/m\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".water-analyze .content-padded[data-v-5d92300e]{margin:0;height:9rem}.water-analyze .content-padded .row .col-100 .user-card[data-v-5d92300e],.water-analyze .content-padded .row .col-100[data-v-5d92300e],.water-analyze .content-padded .row[data-v-5d92300e]{height:100%}.water-analyze .col-100[data-v-5d92300e]{background:#fff}.water-analyze .col-100 .user-card[data-v-5d92300e]{padding:15px;background:url(\" + __webpack_require__(\"vR/c\") + \") no-repeat;background-size:100%}.water-analyze .col-100 .user-card[data-v-5d92300e]:after{display:block;width:100%;height:100%;content:\\\"\\\"}.water-analyze .col-100 .user-card .card-header .img[data-v-5d92300e]{float:left}.water-analyze .col-100 .user-card .card-header a[data-v-5d92300e]{float:right;color:#fff}.water-analyze .col-100 .user-card .card-header a b[data-v-5d92300e]{font-size:16px;font-weight:400;text-decoration:underline}.water-analyze .col-100 .user-card .card-content[data-v-5d92300e]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-top:10px}.water-analyze .col-100 .user-card .card-content ul[data-v-5d92300e]{width:60%}.water-analyze .col-100 .user-card .card-content ul li[data-v-5d92300e]{color:#fff;padding:7px;font-weight:300;font-size:15px}.water-analyze .col-100 .user-card .card-content ul li b[data-v-5d92300e]{font-weight:300}.water-analyze .col-100 .user-card .card-content ol[data-v-5d92300e]{width:40%}.water-analyze .col-100 .user-card .card-content ol .kr-img[data-v-5d92300e]{text-align:center}.water-analyze .col-100 .user-card .card-content ol li a[data-v-5d92300e]{display:inline-block;color:#3193f6}.water-analyze .col-100 .user-card .card-content ol li p[data-v-5d92300e]{text-align:left;color:red;font-family:PingFang_Bold;font-size:15px}.water-analyze .col-100 .user-card[data-v-5d92300e]:after{width:0;height:0%}.water-analyze .kr-tishi[data-v-5d92300e]{text-align:center;padding:1% 0;font-size:.8rem}.water-analyze #water-Analyze-echarts[data-v-5d92300e]{width:100%;height:55%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"gNFr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"/S/m\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"po5z\")(\"4163022e\", content, true);\n\n/***/ }),\n\n/***/ \"htTU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/comments/myHeader.vue + 2 modules\nvar myHeader = __webpack_require__(\"rYnR\");\n\n// EXTERNAL MODULE: ./src/comments/headerThree.vue + 2 modules\nvar headerThree = __webpack_require__(\"Gs2z\");\n\n// EXTERNAL MODULE: ./node_modules/vant/es/index.js + 137 modules\nvar es = __webpack_require__(\"Fd2+\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/project/mywater/personalcenter/pages/waterAnalyze.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var waterAnalyze = ({\n  components: {\n    myHeader: myHeader[\"default\"], headerThree: headerThree[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      header: __webpack_require__(\"kmcC\"),\n      status: 2, //1 有漏水 2 无漏水\n      result: \"\",\n      formData: {\n        groupArea: \"\",\n        userName: \"\",\n        userNo: \"\",\n        userAddress: \"\"\n      },\n      message: {},\n      erchartMonth: [],\n      erchartValue: []\n    };\n  },\n\n  filters: {},\n  created: function created() {\n    this.formData.groupArea = this.$route.query.groupArea;\n    this.formData.userName = this.$route.query.userName;\n    this.formData.userNo = this.$route.query.userNo;\n    this.formData.userAddress = this.$route.query.userAddress;\n    this.message = {\n      title: \"用水分析\",\n      span1: this.formData.groupArea,\n      span2: this.formData.userName + ' (' + this.formData.userNo + ')',\n      span3: this.formData.userAddress,\n      status: 0,\n      warning1: '疑似漏水！',\n      warning2: this.result\n    };\n    this.initShow();\n    this.getEchartsData();\n  },\n  mounted: function mounted() {\n    $('#myTitle').html('用水分析');\n  },\n\n  methods: {\n    initShow: function initShow() {\n      var that = this;\n      var data = {\n        // userNo: \"008900628\",\n        // groupCode: \"C021012\",\n        userNo: that.$route.query.userNo,\n        groupCode: that.$route.query.groupCode\n      };\n      var params = {\n        data: data\n      };\n      that.$api.fetch({\n        params: params, //参数\n        apiUrl: '/myWater/waterLoseQuery.api' //接口地址\n      }).then(function (res) {\n        console.log(res);\n        that.status = res.status;\n        that.result = res.result;\n        that.message.warning2 = res.result;\n        that.message.status = res.status;\n      });\n    },\n    erchart: function erchart() {\n      var pie = this.$echarts.init(document.getElementById(\"water-Analyze-echarts\"));\n      this.drawPie(pie);\n    },\n    drawPie: function drawPie(name) {\n      var that = this;\n      var query = {};\n      name.setOption({\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            label: {\n              backgroundColor: '#6a7985'\n            }\n          }\n        },\n        grid: {\n          left: '1%',\n          right: '12%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: [{\n          type: 'category',\n          boundaryGap: false,\n          data: this.erchartMonth,\n          name: '账期'\n        }],\n        yAxis: [{\n          type: 'value',\n          name: '吨'\n        }],\n        series: [{\n          name: '月用水总量',\n          type: 'line',\n          stack: '总量',\n          areaStyle: {\n            color: '#3193f6'\n          },\n          label: {\n            normal: {\n              show: true,\n              position: 'top'\n            }\n          },\n          data: this.erchartValue\n        }]\n      });\n      name.getZr().on(\"click\", function (params) {\n        var pointInPixel = [params.offsetX, params.offsetY];\n        if (name.containPixel(\"grid\", pointInPixel)) {\n          /*此处添加具体执行代码*/\n\n          var pointInGrid = name.convertFromPixel({ seriesIndex: 0 }, pointInPixel);\n          //X轴序号\n          var xIndex = pointInGrid[0];\n\n          //获取当前图表的option\n          var op = name.getOption();\n\n          //获得图表中我们想要的数据\n          var month = op.xAxis[0].data[xIndex];\n          var value = op.series[0].data[xIndex];\n          query.groupArea = that.formData.groupArea;\n          query.userName = that.formData.userName;\n          query.userNo = that.formData.userNo;\n          query.groupCode = that.$route.query.groupCode;\n          query.userAddress = that.$route.query.userAddress;\n          query.month = month;\n          that.$router.push({ path: '/newData', query: query });\n\n          console.log(op);\n          console.log(month + \"：\" + value);\n        }\n      });\n      window.addEventListener('resize', function () {\n        name.resize();\n      });\n      setTimeout(function () {\n        name.resize();\n      }, 1000);\n    },\n    getEchartsData: function getEchartsData() {\n      var that = this;\n      var data = {\n        userNo: that.$route.query.userNo,\n        groupCode: that.$route.query.groupCode\n      };\n      var params = {\n        data: data\n      };\n      that.$api.fetch({\n        params: params, //参数\n        apiUrl: '/myWater/monthFluxQuery' //接口地址\n      }).then(function (res) {\n        that.erchartMonth = res.month;\n        for (var i = 0; i < res.value.length; i++) {\n          that.erchartValue.push(parseInt(res.value[i]));\n        }\n        setTimeout(function () {\n          that.erchart();\n        }, 200);\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d92300e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/project/mywater/personalcenter/pages/waterAnalyze.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"water-analyze\"},[_c('page-content',[_c('div',{staticClass:\"content-padded\"},[_c('headerThree',{attrs:{\"message\":_vm.message}})],1),_vm._v(\" \"),_c('div',{staticClass:\"kr-tishi\"},[_c('span',[_vm._v(\"历史用水信息\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"water-Analyze-echarts\"}}),_vm._v(\" \"),_c('div',{staticClass:\"kr-tishi\"},[_c('span',{staticStyle:{\"color\":\"#3193f6\",\"font-size\":\"13px\"}},[_vm._v(\"点击月份区间，可查看月用水量详情\")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var pages_waterAnalyze = (esExports);\n// CONCATENATED MODULE: ./src/project/mywater/personalcenter/pages/waterAnalyze.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"gNFr\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d92300e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  waterAnalyze,\n  pages_waterAnalyze,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var personalcenter_pages_waterAnalyze = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/43.60e307c3e8f54a4d1f15.js","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".water-analyze .content-padded[data-v-5d92300e]{margin:0;height:9rem}.water-analyze .content-padded .row .col-100 .user-card[data-v-5d92300e],.water-analyze .content-padded .row .col-100[data-v-5d92300e],.water-analyze .content-padded .row[data-v-5d92300e]{height:100%}.water-analyze .col-100[data-v-5d92300e]{background:#fff}.water-analyze .col-100 .user-card[data-v-5d92300e]{padding:15px;background:url(\" + require(\"../../../../../static/img/shuidi.png\") + \") no-repeat;background-size:100%}.water-analyze .col-100 .user-card[data-v-5d92300e]:after{display:block;width:100%;height:100%;content:\\\"\\\"}.water-analyze .col-100 .user-card .card-header .img[data-v-5d92300e]{float:left}.water-analyze .col-100 .user-card .card-header a[data-v-5d92300e]{float:right;color:#fff}.water-analyze .col-100 .user-card .card-header a b[data-v-5d92300e]{font-size:16px;font-weight:400;text-decoration:underline}.water-analyze .col-100 .user-card .card-content[data-v-5d92300e]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-top:10px}.water-analyze .col-100 .user-card .card-content ul[data-v-5d92300e]{width:60%}.water-analyze .col-100 .user-card .card-content ul li[data-v-5d92300e]{color:#fff;padding:7px;font-weight:300;font-size:15px}.water-analyze .col-100 .user-card .card-content ul li b[data-v-5d92300e]{font-weight:300}.water-analyze .col-100 .user-card .card-content ol[data-v-5d92300e]{width:40%}.water-analyze .col-100 .user-card .card-content ol .kr-img[data-v-5d92300e]{text-align:center}.water-analyze .col-100 .user-card .card-content ol li a[data-v-5d92300e]{display:inline-block;color:#3193f6}.water-analyze .col-100 .user-card .card-content ol li p[data-v-5d92300e]{text-align:left;color:red;font-family:PingFang_Bold;font-size:15px}.water-analyze .col-100 .user-card[data-v-5d92300e]:after{width:0;height:0%}.water-analyze .kr-tishi[data-v-5d92300e]{text-align:center;padding:1% 0;font-size:.8rem}.water-analyze #water-Analyze-echarts[data-v-5d92300e]{width:100%;height:55%}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5d92300e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/project/mywater/personalcenter/pages/waterAnalyze.vue\n// module id = /S/m\n// module chunks = 43","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d92300e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/less-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./waterAnalyze.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-loader/node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4163022e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5d92300e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/project/mywater/personalcenter/pages/waterAnalyze.vue\n// module id = gNFr\n// module chunks = 43","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d92300e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./waterAnalyze.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./waterAnalyze.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d92300e\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./waterAnalyze.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d92300e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/project/mywater/personalcenter/pages/waterAnalyze.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"water-analyze\">\r\n    <!-- <page-header>\r\n      <header-link :left=\"true\" :edge=\"true\" v-back-link>\r\n        <icon icon=\"back\"></icon>返回\r\n      </header-link>\r\n      <header-title>用水分析</header-title>\r\n    </page-header> -->\r\n    <page-content>\r\n      <div class=\"content-padded\">\r\n\r\n        <headerThree :message='message'></headerThree>\r\n        <!-- <div class=\"row\">\r\n          <div class=\"col-100\">\r\n            <div class=\"user-card\">\r\n              <div class=\"card-header\">\r\n                <img :src=\"header\" alt=\"\" width=\"35%\" />\r\n              </div>\r\n              <div class=\"card-content\">\r\n                <ul>\r\n                  <li>\r\n                    <span>{{formData.groupArea}}</span>\r\n                  </li>\r\n                  <li>\r\n                    <span>{{formData.userName}}&nbsp;&nbsp;({{formData.userNo}})</span>\r\n                  </li>\r\n                  <li>\r\n                    <span>{{formData.userAddress}}</span>\r\n                  </li>\r\n                </ul>\r\n\r\n                <ol>\r\n                  <li class=\"kr-img\">\r\n                    <img src=\"../../../../../static/img/jingbao.png\" alt=\"\">\r\n                  </li>\r\n                  <li>\r\n                    <p style=\"text-align: center;\">疑似漏水!</p>\r\n                    <p style=\"text-align: center;\">{{result}}</p>\r\n                  </li>\r\n                </ol>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"kr-tishi\">\r\n        <span>历史用水信息</span>\r\n      </div>\r\n      <div id=\"water-Analyze-echarts\"></div>\r\n      <div class=\"kr-tishi\">\r\n        <span style=\"color:#3193f6;font-size:13px;\">点击月份区间，可查看月用水量详情</span>\r\n      </div>\r\n    </page-content>\r\n\r\n  </div>\r\n</template> \r\n \r\n<script>\r\nimport myHeader from '@/comments/myHeader'\r\nimport headerThree from '@/comments/headerThree';\r\nimport { Icon, PullRefresh } from 'vant';\r\nexport default {\r\n  components: {\r\n    myHeader, headerThree\r\n  },\r\n  data() {\r\n    return {\r\n      header: require('../../../../../static/img/header1.png'),\r\n      status: 2,//1 有漏水 2 无漏水\r\n      result: \"\",\r\n      formData: {\r\n        groupArea: \"\",\r\n        userName: \"\",\r\n        userNo: \"\",\r\n        userAddress: \"\",\r\n      },\r\n      message: {},\r\n      erchartMonth: [],\r\n      erchartValue: [],\r\n    };\r\n  },\r\n  filters: {\r\n\r\n  },\r\n  created() {\r\n    this.formData.groupArea = this.$route.query.groupArea;\r\n    this.formData.userName = this.$route.query.userName;\r\n    this.formData.userNo = this.$route.query.userNo;\r\n    this.formData.userAddress = this.$route.query.userAddress;\r\n    this.message = {\r\n      title: \"用水分析\",\r\n      span1: this.formData.groupArea,\r\n      span2: this.formData.userName + ' (' + this.formData.userNo + ')',\r\n      span3: this.formData.userAddress,\r\n      status: 0,\r\n      warning1: '疑似漏水！',\r\n      warning2: this.result,\r\n    };\r\n      this.initShow()\r\n    this.getEchartsData()\r\n  },\r\n  mounted() {\r\n    $('#myTitle').html('用水分析')\r\n  },\r\n  methods: {\r\n    initShow() {\r\n      let that = this;\r\n      let data = {\r\n        // userNo: \"008900628\",\r\n        // groupCode: \"C021012\",\r\n        userNo: that.$route.query.userNo,\r\n        groupCode: that.$route.query.groupCode,\r\n      };\r\n      let params = {\r\n        data,\r\n      }\r\n      that.$api.fetch({\r\n        params,//参数\r\n        apiUrl: '/myWater/waterLoseQuery.api',//接口地址\r\n      }).then(res => {\r\n        console.log(res)\r\n        that.status = res.status;\r\n        that.result = res.result;\r\n        that.message.warning2 = res.result\r\n        that.message.status = res.status\r\n      })\r\n    },\r\n    erchart() {\r\n      let pie = this.$echarts.init(\r\n        document.getElementById(\"water-Analyze-echarts\")\r\n      );\r\n      this.drawPie(pie);\r\n    },\r\n    drawPie(name) {\r\n      let that = this;\r\n      let query = {};\r\n      name.setOption(\r\n        {\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'cross',\r\n              label: {\r\n                backgroundColor: '#6a7985'\r\n              }\r\n            }\r\n          },\r\n          grid: {\r\n            left: '1%',\r\n            right: '12%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          xAxis: [\r\n            {\r\n              type: 'category',\r\n              boundaryGap: false,\r\n              data: this.erchartMonth,\r\n              name: '账期',\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              type: 'value',\r\n              name: '吨',\r\n            }\r\n          ],\r\n          series: [\r\n            {\r\n              name: '月用水总量',\r\n              type: 'line',\r\n              stack: '总量',\r\n              areaStyle: {\r\n                color: '#3193f6',\r\n              },\r\n              label: {\r\n                normal: {\r\n                  show: true,\r\n                  position: 'top'\r\n                }\r\n              },\r\n              data: this.erchartValue,\r\n            }\r\n          ]\r\n        }\r\n      )\r\n      name.getZr().on(\"click\", function (params) {\r\n        var pointInPixel = [params.offsetX, params.offsetY];\r\n        if (name.containPixel(\"grid\", pointInPixel)) {\r\n          /*此处添加具体执行代码*/\r\n\r\n          var pointInGrid = name.convertFromPixel(\r\n            { seriesIndex: 0 },\r\n            pointInPixel\r\n          );\r\n          //X轴序号\r\n          var xIndex = pointInGrid[0];\r\n\r\n          //获取当前图表的option\r\n          var op = name.getOption();\r\n\r\n          //获得图表中我们想要的数据\r\n          var month = op.xAxis[0].data[xIndex];\r\n          var value = op.series[0].data[xIndex];\r\n          query.groupArea = that.formData.groupArea;\r\n          query.userName = that.formData.userName;\r\n          query.userNo = that.formData.userNo;\r\n          query.groupCode = that.$route.query.groupCode;\r\n          query.userAddress = that.$route.query.userAddress;\r\n          query.month = month;\r\n          that.$router.push({ path: '/newData', query })\r\n\r\n          console.log(op);\r\n          console.log(month + \"：\" + value);\r\n        }\r\n      });\r\n      window.addEventListener('resize', function () {\r\n        name.resize();\r\n      })\r\n      setTimeout(() => {\r\n        name.resize();\r\n      }, 1000);\r\n    },\r\n    getEchartsData() {\r\n      let that = this;\r\n      let data = {\r\n        userNo: that.$route.query.userNo,\r\n        groupCode: that.$route.query.groupCode,\r\n      };\r\n      let params = {\r\n        data,\r\n      }\r\n      that.$api.fetch({\r\n        params,//参数\r\n        apiUrl: '/myWater/monthFluxQuery',//接口地址\r\n      }).then(res => {\r\n        that.erchartMonth = res.month;\r\n        for (let i = 0; i < res.value.length; i++) {\r\n          that.erchartValue.push(parseInt(res.value[i]))\r\n        }\r\n        setTimeout(() => {\r\n          that.erchart()\r\n        }, 200);\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n \r\n<style lang=\"less\" scoped>\r\n.water-analyze {\r\n  .content-padded {\r\n    margin: 0;\r\n    height: 9rem;\r\n    .row {\r\n      height: 100%;\r\n      .col-100 {\r\n        height: 100%;\r\n        .user-card {\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .col-100 {\r\n    background: #fff;\r\n    .user-card {\r\n      // border-radius: 10px;\r\n      padding: 15px;\r\n      background: url(\"../../../../../static/img/shuidi.png\") no-repeat;\r\n      background-size: 100%;\r\n      &:after {\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n        content: \"\";\r\n      }\r\n      .card-header {\r\n        .img {\r\n          float: left;\r\n        }\r\n        a {\r\n          float: right;\r\n          color: #fff;\r\n          b {\r\n            font-size: 16px;\r\n            font-weight: normal;\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n      .card-content {\r\n        width: 100%;\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        position: relative;\r\n        padding-top: 10px;\r\n        ul {\r\n          width: 60%;\r\n\r\n          li {\r\n            color: #fff;\r\n            padding: 7px;\r\n            font-weight: 300;\r\n            b {\r\n              font-weight: 300;\r\n            }\r\n            font-size: 15px;\r\n          }\r\n        }\r\n        ol {\r\n          width: 40%;\r\n          .kr-img {\r\n            text-align: center;\r\n          }\r\n          li {\r\n            // padding: 7px;\r\n            a {\r\n              display: inline-block;\r\n              color: #3193f6;\r\n            }\r\n            p {\r\n              text-align: left;\r\n              color: red;\r\n              font-family: PingFang_Bold;\r\n              font-size: 15px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .user-card:after {\r\n      width: 0%;\r\n      height: 0%;\r\n    }\r\n  }\r\n  .kr-tishi {\r\n    // height: 10%;\r\n    text-align: center;\r\n    padding: 1% 0;\r\n    font-size: 0.8rem;\r\n    // 3193f6;\r\n  }\r\n  #water-Analyze-echarts {\r\n    width: 100%;\r\n    // height: 70%;\r\n    height: 55%;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/project/mywater/personalcenter/pages/waterAnalyze.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"water-analyze\"},[_c('page-content',[_c('div',{staticClass:\"content-padded\"},[_c('headerThree',{attrs:{\"message\":_vm.message}})],1),_vm._v(\" \"),_c('div',{staticClass:\"kr-tishi\"},[_c('span',[_vm._v(\"历史用水信息\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"water-Analyze-echarts\"}}),_vm._v(\" \"),_c('div',{staticClass:\"kr-tishi\"},[_c('span',{staticStyle:{\"color\":\"#3193f6\",\"font-size\":\"13px\"}},[_vm._v(\"点击月份区间，可查看月用水量详情\")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d92300e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/project/mywater/personalcenter/pages/waterAnalyze.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}